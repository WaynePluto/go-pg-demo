# 身份与访问控制 (IACC) 功能开发计划

## 第一阶段：项目结构与数据库初始化

1. 参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第1步，创建用于`iacc`功能的数据库迁移文件。

2. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第2步，编写用于`iacc`功能的数据库迁移文件。

3. 参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第3步，完成用于`iacc`功能的数据库迁移。

4. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第4步，定义用于`iacc`功能的api接口。

5. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第5步，创建 `iacc` 模块所需的所有子目录和对应的文件。

## 第二阶段：业务模块开发

### permission 表

6. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第6步，实现用于`iacc`功能`permission`表的`type.go`代码。

7. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第7步，实现用于`iacc`功能`permission`表的`handler.go`代码。

### role 表

6. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第6步，实现用于`iacc`功能`role`表的`type.go`代码。

7. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第7步，实现用于`iacc`功能`role`表的`handler.go`代码。

### user 表

6. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第6步，实现用于`iacc`功能`user`表的`type.go`代码。

7. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第7步，实现用于`iacc`功能`user`表的`handler.go`代码。

## 第三阶段
8. 结合`promot/iacc/1.code-design.md`业务设计，参考 `promot/rules/module.md`中的`扩展新业务规范`小节里的第8步，实现用于`iacc`功能的handler函数依赖注入。

9. 运行`wire ./internal/app`，如果出错，则进行响应的修改。

## 第四阶段-集成测试

10. 参考`promot/rules/test.md`中的测试规则，编写iacc模块下的permission路由模块的测试代码，如果有bug，请修改。

11. 参考`promot/rules/test.md`中的测试规则，编写iacc模块下的role路由模块的测试代码，如果有bug，请修改。

12. 参考`promot/rules/test.md`中的测试规则，编写iacc模块下的user路由模块的测试代码，如果有bug，请修改。